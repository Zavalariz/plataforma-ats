<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>ATS Elite - Turbo Logic Terminal</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>
    <style>
        body { background: #060606; color: #fff; font-family: 'Inter', sans-serif; height: 100vh; overflow: hidden; }
        .panel { background: #0c0c0c; border: 1px solid #1a1a1a; border-radius: 8px; }
        .t-input { background: #161616; border: 1px solid #222; border-radius: 4px; padding: 8px; font-size: 12px; font-weight: 700; width: 100%; color: #fff; outline: none; }
        .t-input:focus { border-color: #8b5cf6; }
        .t-label { font-size: 9px; text-transform: uppercase; color: #666; font-weight: 800; margin-bottom: 4px; display: block; }
        iframe { width: 100%; height: 100%; border: none; background: #000; }
    </style>
</head>
<body x-data="turboEngine()" x-init="init()">

    <header class="h-14 border-b border-white/5 flex justify-between items-center px-6 bg-[#0c0c0c]">
        <div class="flex items-center gap-4">
            <span class="text-[#00ffa3] font-black italic tracking-tighter text-lg">ATS <span class="text-white">ELITE</span></span>
            <nav class="hidden md:flex gap-4 text-[10px] font-bold text-gray-500 uppercase">
                <span class="text-white border-b border-[#00ffa3]">Operar</span>
                <span>Sinais GPT</span>
                <span>Historial</span>
            </nav>
        </div>
        <div class="flex items-center gap-4">
            <div class="text-right">
                <div class="text-[9px] text-gray-500 font-bold uppercase">Balance <span x-text="accountType" class="text-[#00ffa3]"></span></div>
                <div class="text-[#00ffa3] font-mono text-xl font-bold" x-text="'$' + balance">0.00</div>
            </div>
            <button class="bg-white/5 px-4 py-2 rounded text-[10px] font-bold uppercase border border-white/10 hover:bg-white/10">Sair</button>
        </div>
    </header>

    <div class="flex h-[calc(100vh-56px)] p-1 gap-1">
        
        <aside class="w-72 panel p-4 flex flex-col gap-4 overflow-y-auto">
            <div>
                <h3 class="text-[11px] font-black text-gray-400 uppercase italic">Configura√ß√µes da IA</h3>
                <div class="text-2xl font-black text-gray-800 mt-1">$0 (0%)</div>
            </div>

            <div>
                <label class="t-label">Mercado</label>
                <select class="t-input"><option>Volatility 100 Index</option></select>
                <p class="text-[9px] text-purple-500 mt-1 font-bold italic">1 tique a cada 2 segundos</p>
            </div>

            <div class="grid grid-cols-3 gap-2">
                <div>
                    <label class="t-label">Entrada</label>
                    <input type="number" x-model="stake" class="t-input text-center">
                    <span class="text-[8px] text-purple-400 font-bold">0.01% saldo</span>
                </div>
                <div>
                    <label class="t-label">Meta</label>
                    <input type="number" x-model="target" class="t-input text-center">
                    <span class="text-[8px] text-purple-400 font-bold">0.20% saldo</span>
                </div>
                <div>
                    <label class="t-label">Perda</label>
                    <input type="number" x-model="stopLoss" class="t-input text-center">
                    <span class="text-[8px] text-purple-400 font-bold">10.00% saldo</span>
                </div>
            </div>

            <div class="bg-[#1a1a1a] p-3 rounded border border-white/5">
                <div class="flex items-center gap-3">
                    <div class="p-2 bg-green-500/10 rounded-full border border-green-500/20 text-green-500 text-xs">üõ°Ô∏è</div>
                    <div>
                        <div class="text-[9px] font-black text-green-500 uppercase">Conservador</div>
                        <div class="text-[10px] text-gray-400 font-bold">Gerenciamento Ativo</div>
                    </div>
                </div>
            </div>

            <button class="w-full bg-purple-600 hover:bg-purple-500 py-4 rounded-xl font-black text-xs uppercase shadow-lg shadow-purple-900/20 transition-all active:scale-95">
                ‚ñ∂ Iniciar Rob√¥ Elite
            </button>
        </aside>

        <main class="flex-1 panel overflow-hidden flex flex-col">
            <div class="h-10 border-b border-white/5 flex items-center px-4 gap-6 bg-black/20">
                <span class="text-[10px] font-bold uppercase text-[#00ffa3] border-b-2 border-[#00ffa3] h-full flex items-center">Gr√°fico</span>
                <span class="text-[10px] font-bold uppercase text-gray-500">D√≠gitos</span>
            </div>
            <div class="flex-1 bg-black">
                <iframe src="https://tradingview.deriv.com/v1/index.html?symbol=1HZ100V&interval=1&theme=dark&timezone=exchange"></iframe>
            </div>
        </main>

        <aside class="w-80 panel p-4 flex flex-col gap-4">
            <div class="flex justify-between items-center">
                <span class="text-[11px] font-black text-gray-400 uppercase italic">Modo Manual</span>
                <div class="w-8 h-4 bg-white/10 rounded-full flex items-center px-1"><div class="w-2.5 h-2.5 bg-white rounded-full ml-auto"></div></div>
            </div>

            <div class="grid grid-cols-2 gap-2">
                <div>
                    <label class="t-label">Dura√ß√£o</label>
                    <div class="flex items-center justify-between t-input">
                        <button @click="ticks > 1 && ticks--" class="text-gray-500 hover:text-white">-</button>
                        <span x-text="ticks"></span>
                        <button @click="ticks++" class="text-gray-500 hover:text-white">+</button>
                    </div>
                </div>
                <div>
                    <label class="t-label">&nbsp;</label>
                    <select class="t-input"><option>Ticks</option></select>
                </div>
            </div>

            <div class="flex flex-col gap-2 mt-2">
                <button @click="sendTrade('CALL')" class="w-full bg-[#00ffa3] text-black p-4 rounded-xl flex justify-between items-center hover:brightness-110 active:scale-95 transition-all">
                    <div class="text-left"><div class="text-2xl font-bold">‚Üó</div><div class="text-[10px] font-black uppercase italic">Rise</div></div>
                    <div class="text-right"><div class="text-[10px] font-bold">95% Payout</div><div class="text-[9px]" x-text="'$' + (stake * 1.95).toFixed(2)"></div></div>
                </button>

                <button @click="sendTrade('PUT')" class="w-full bg-[#ff3355] text-white p-4 rounded-xl flex justify-between items-center hover:brightness-110 active:scale-95 transition-all">
                    <div class="text-left"><div class="text-2xl font-bold">‚Üò</div><div class="text-[10px] font-black uppercase italic">Fall</div></div>
                    <div class="text-right"><div class="text-[10px] font-bold">95% Payout</div><div class="text-[9px]" x-text="'$' + (stake * 1.95).toFixed(2)"></div></div>
                </button>
            </div>
        </aside>
    </div>

    <script>
        function turboEngine() {
            return {
                balance: '0.00',
                accountType: 'REAL',
                stake: 10,
                target: 20,
                stopLoss: 1000,
                ticks: 1,
                socket: null,

                init() {
                    const params = new URLSearchParams(window.location.search);
                    const token = params.get('token1');
                    if (token) this.connect(token);
                },

                connect(token) {
                    this.socket = new WebSocket('wss://ws.binaryws.com/websockets/v3?app_id=119907');
                    this.socket.onopen = () => this.socket.send(JSON.stringify({ "authorize": token }));
                    this.socket.onmessage = (msg) => {
                        const res = JSON.parse(msg.data);
                        if (res.msg_type === 'authorize') {
                            this.accountType = res.authorize.is_virtual ? 'DEMO' : 'REAL';
                            this.socket.send(JSON.stringify({ "balance": 1, "subscribe": 1 }));
                        }
                        if (res.msg_type === 'balance') {
                            this.balance = res.balance.balance.toLocaleString('en-US', { minimumFractionDigits: 2 });
                        }
                    };
                },

                sendTrade(type) {
                    console.log(`Ejecutando ${type} con $${this.stake} a ${this.ticks} ticks`);
                }
            }
        }
    </script>
</body>
</html>
